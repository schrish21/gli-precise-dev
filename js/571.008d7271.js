"use strict";(self["webpackChunkvuejs_precise"]=self["webpackChunkvuejs_precise"]||[]).push([[571],{571:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[a("div",{staticClass:"loader"})])}],n=a(9669),s=a.n(n),i=a(8815),l=a(2023),c=a.n(l),d=(a(6665),{name:"RedirectProduct",components:{},data(){return{client_ip:null}},async created(){await s().get("https://api.ipify.org?format=json").then((e=>{if(this.client_ip=e.data.ip,""==this.client_ip||null==this.client_ip||NaN==this.client_ip||void 0==this.client_ip)return localStorage.removeItem("voucher_token"),localStorage.removeItem("pe_end_date"),void this.$router.push({name:"ip-pernah-digunakan"})})).catch((e=>{console.log("Redirect.vue (error) :: ",e)}));try{var e=(new Date).toISOString().slice(0,10).replace(/-/g,""),t=e.toString(),a="SSO4lfag1ft"+t+"precise",o=c()(a),r=this.$route.query.id;const n={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};await s().get(i.Y+"/event-list?token="+o+"&link_id="+r,n).then((e=>{if("success"==e.data.response_message){if(localStorage.setItem("voucher_token","7ce7fc0a19aefa2-b266f5dbf6eeb5-f7ey7yf772vdfv626"),localStorage.setItem("pe_end_date",e.data.data[0].pe_end_date),Date.parse(e.data.data[0].pe_end_date)-Date.parse(new Date)<0)return localStorage.removeItem("voucher_token"),localStorage.removeItem("pe_end_date"),void this.$router.push({name:"promo-berakhir"});localStorage.setItem("pe_id",e.data.data[0].pe_id),localStorage.setItem("voucher_type",e.data.data[0].pe_type),localStorage.setItem("subject_mail",e.data.data[0].pe_subject_mail),localStorage.setItem("client_ip",this.client_ip);var t=e.data.data[0].pe_body_mail;localStorage.setItem("product_name",e.data.data[0].pe_product_name),localStorage.setItem("pe_whitelist_kabupaten",e.data.data[0].pe_whitelist_kabupaten),this.$router.push({name:"form3",params:{router_data:t}})}else this.$router.push({name:"notFound"})})).catch((e=>{console.log("Redirect.vue (error) :: ",e)}))}catch(n){console.error(n),alert("Error: koneksi gagal")}},mounted(){},methods:{}}),p=d,u=a(1001),_=(0,u.Z)(p,o,r,!1,null,"8b2621ba",null),h=_.exports}}]);
//# sourceMappingURL=571.008d7271.js.map